# Project: honbabnono (í˜¼ë°¥ì‹œëŸ¬)

## Goals
- í˜¼ë°¥ ì‹«ì€ ì‚¬ëŒë“¤ì„ ìœ„í•œ ì‹ì‚¬ ëª¨ì„ ë§¤ì¹­ ì•± ê°œë°œ
- React Native ëª¨ë°”ì¼ ì•± (iOS/Android) + Web ë²„ì „
- Node.js/Express ë°±ì—”ë“œ API ì„œë²„
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (admin/)

## Tech Stack / Commands

### Install
```bash
npm install
cd ios && pod install  # iOS ì „ìš©
```

### Test
```bash
npm run test           # ì „ì²´ í…ŒìŠ¤íŠ¸
npm run test:api       # API í…ŒìŠ¤íŠ¸ (tests/)
npm run test:coverage  # ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
```

### Lint/Format
```bash
npm run lint           # ESLint ì‹¤í–‰
```

### Build
```bash
npm run build:web      # Web ë¹Œë“œ
npm run ios:build      # iOS ë¹Œë“œ
npm run android:build  # Android ë¹Œë“œ
```

### Dev Server
```bash
npm run server         # ë°±ì—”ë“œ API ì„œë²„ (port 3001)
npm run web            # ì›¹ ê°œë°œ ì„œë²„ (port 3000)
npm run dev            # web + server ë™ì‹œ ì‹¤í–‰
```

## Directory Structure
```
honbabnono/
â”œâ”€â”€ src/                    # React Native ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ components/         # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ screens/            # í™”ë©´ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ services/           # API ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ store/              # ìƒíƒœ ê´€ë¦¬ (Zustand)
â”‚   â”œâ”€â”€ navigation/         # ë„¤ë¹„ê²Œì´ì…˜ ì„¤ì •
â”‚   â””â”€â”€ styles/             # ìŠ¤íƒ€ì¼/í…Œë§ˆ
â”œâ”€â”€ server/                 # ë°±ì—”ë“œ API ì„œë²„
â”‚   â”œâ”€â”€ index.js            # ì§„ì…ì 
â”‚   â”œâ”€â”€ modules/            # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ (auth, user, meetups ë“±)
â”‚   â”œâ”€â”€ middleware/         # ë¯¸ë“¤ì›¨ì–´ (ì¸ì¦ ë“±)
â”‚   â”œâ”€â”€ config/             # ì„¤ì • (DB, S3, logger)
â”‚   â””â”€â”€ utils/              # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ admin/                  # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (React)
â”œâ”€â”€ terraform/              # AWS ì¸í”„ë¼ (IaC)
â”œâ”€â”€ tests/                  # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ ios/                    # iOS ë„¤ì´í‹°ë¸Œ ì½”ë“œ
â””â”€â”€ android/                # Android ë„¤ì´í‹°ë¸Œ ì½”ë“œ
```

## Repo Rules (Must)

### ë³€ê²½ ì „
- ê·œëª¨ê°€ í° ì‘ì—…ì€ ë°˜ë“œì‹œ `/plan` ìœ¼ë¡œ ê³„íš ìˆ˜ë¦½
- ê¸°ì¡´ ì½”ë“œë¥¼ ì½ê³  íŒ¨í„´ íŒŒì•… í›„ ì‘ì—…

### í…ŒìŠ¤íŠ¸
- ëª¨ë“  ë³€ê²½ì€ í…ŒìŠ¤íŠ¸ í†µê³¼ê°€ ê¸°ì¤€
- API ë³€ê²½ ì‹œ `npm run test:api` í•„ìˆ˜
- ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ìµœì†Œí•œì˜ í…ŒìŠ¤íŠ¸ ì‘ì„±

### ì»¤ë°‹
- ì»¤ë°‹ ì „ ì½”ë“œ ë¦¬ë·° í•„ìˆ˜
- ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜: `feat:`, `fix:`, `refactor:`, `chore:` + í•œê¸€ ì„¤ëª…
- ì˜ˆ: `feat: í¬ì¸íŠ¸ ì¶©ì „ ê¸°ëŠ¥ ì¶”ê°€`

### ì‹œí¬ë¦¿ ê´€ë¦¬
- **ì‹œí¬ë¦¿/í† í°/í‚¤ í•˜ë“œì½”ë”© ì ˆëŒ€ ê¸ˆì§€**
- í™˜ê²½ë³€ìˆ˜ëŠ” `.env.*` íŒŒì¼ ì‚¬ìš©
- `.env` íŒŒì¼ì€ ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ì•ŠìŒ

### ë¬¸ì„œí™”
- ë³€ê²½ì´ í¬ë©´ ê´€ë ¨ ë¬¸ì„œ ì—…ë°ì´íŠ¸ (README.md, í•´ë‹¹ ê°€ì´ë“œ íŒŒì¼)

## Sensitive Areas (íŠ¹íˆ ì¡°ì‹¬)

### ğŸ”´ Critical - ë³€ê²½ ì‹œ ë°˜ë“œì‹œ í™•ì¸ í•„ìš”
| ì˜ì—­ | ê²½ë¡œ | ìœ„í—˜ë„ | ì„¤ëª… |
|------|------|--------|------|
| Terraform | `terraform/` | ğŸ”´ | AWS ì¸í”„ë¼ - í”„ë¡œë•ì…˜ ë¦¬ì†ŒìŠ¤ ë³€ê²½ ê°€ëŠ¥ |
| í™˜ê²½ë³€ìˆ˜ | `.env*` | ğŸ”´ | DB ë¹„ë°€ë²ˆí˜¸, API í‚¤ í¬í•¨ |
| DB ìŠ¤í‚¤ë§ˆ | `database_schema*.sql` | ğŸ”´ | ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ë³€ê²½ |

### ğŸŸ¡ High - ì£¼ì˜ í•„ìš”
| ì˜ì—­ | ê²½ë¡œ | ìœ„í—˜ë„ | ì„¤ëª… |
|------|------|--------|------|
| ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ | `server/middleware/auth.js` | ğŸŸ¡ | JWT í† í° ê²€ì¦ ë¡œì§ |
| DB ì„¤ì • | `server/config/database.js` | ğŸŸ¡ | ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° |
| ê²°ì œ/í¬ì¸íŠ¸ | `server/modules/points/` | ğŸŸ¡ | í¬ì¸íŠ¸ ì¶©ì „/ì‚¬ìš© ë¡œì§ |
| iOS ì„¤ì • | `ios/` | ğŸŸ¡ | ë„¤ì´í‹°ë¸Œ ì„¤ì •, Info.plist |
| Android ì„¤ì • | `android/` | ğŸŸ¡ | ë„¤ì´í‹°ë¸Œ ì„¤ì •, gradle |

### ğŸŸ¢ Normal
| ì˜ì—­ | ê²½ë¡œ | ì„¤ëª… |
|------|------|------|
| í”„ë¡ íŠ¸ì—”ë“œ | `src/components/`, `src/screens/` | UI ì»´í¬ë„ŒíŠ¸ |
| API ë¼ìš°íŠ¸ | `server/modules/*/routes.js` | API ì—”ë“œí¬ì¸íŠ¸ |
| ìŠ¤íƒ€ì¼ | `src/styles/` | ìŠ¤íƒ€ì¼/í…Œë§ˆ |

## How to Work (Recommended Flow)

### Feature (ìƒˆ ê¸°ëŠ¥)
```
/plan â†’ êµ¬í˜„ â†’ í…ŒìŠ¤íŠ¸ ì‘ì„± â†’ /code-review â†’ ì»¤ë°‹
```

### Hotfix (ê¸´ê¸‰ ë²„ê·¸ ìˆ˜ì •)
```
ë²„ê·¸ ì¬í˜„ â†’ ìµœì†Œ ìˆ˜ì • â†’ í…ŒìŠ¤íŠ¸ â†’ /code-review â†’ ì»¤ë°‹
```

### Refactor (ë¦¬íŒ©í† ë§)
```
/plan â†’ ë¦¬íŒ©í† ë§ â†’ ê¸°ì¡´ í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸ â†’ /code-review â†’ ì»¤ë°‹
```

## API Server Module Structure

ë°±ì—”ë“œ ì„œë²„ëŠ” ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ ë˜ì–´ ìˆìŒ:

```
server/modules/
â”œâ”€â”€ auth/           # ì¸ì¦ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, ì†Œì…œë¡œê·¸ì¸)
â”œâ”€â”€ user/           # ì‚¬ìš©ì (í”„ë¡œí•„, ì„¤ì •, í¬ì¸íŠ¸)
â”œâ”€â”€ meetups/        # ëª¨ì„ (ìƒì„±, ì°¸ê°€, ê´€ë¦¬)
â”œâ”€â”€ chat/           # ì±„íŒ… (ì‹¤ì‹œê°„ ë©”ì‹œì§€)
â”œâ”€â”€ reviews/        # ë¦¬ë·° (ëª¨ì„ í›„ê¸°)
â”œâ”€â”€ points/         # í¬ì¸íŠ¸ (ì¶©ì „, ì‚¬ìš©, ë‚´ì—­)
â”œâ”€â”€ notifications/  # ì•Œë¦¼ (í‘¸ì‹œ, ì•±ë‚´ ì•Œë¦¼)
â”œâ”€â”€ badges/         # ë±ƒì§€ (ì—…ì  ì‹œìŠ¤í…œ)
â”œâ”€â”€ admin/          # ê´€ë¦¬ì (ëŒ€ì‹œë³´ë“œ, í†µê³„)
â”œâ”€â”€ ai/             # AI (ê²€ìƒ‰, ì¶”ì²œ)
â”œâ”€â”€ deposits/       # ì•½ì†ê¸ˆ (ì˜ˆì¹˜ê¸ˆ ê´€ë¦¬)
â””â”€â”€ support/        # ì§€ì› (ê³µì§€, FAQ)
```

ê° ëª¨ë“ˆì€ `controller.js`ì™€ `routes.js`ë¡œ êµ¬ì„±ë¨.

## Environment Variables

í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ (`.env.development` ì°¸ê³ ):
- `DATABASE_URL` - PostgreSQL ì—°ê²° ë¬¸ìì—´
- `JWT_SECRET` - JWT í† í° ì„œëª… í‚¤
- `KAKAO_CLIENT_ID` - ì¹´ì¹´ì˜¤ API í‚¤
- `AWS_*` - S3 ì—…ë¡œë“œìš© AWS ìê²©ì¦ëª…

## Common Issues

### ì„œë²„ ì‹œì‘ ì•ˆ ë¨
```bash
# í¬íŠ¸ ì¶©ëŒ í™•ì¸
lsof -ti:3001 | xargs kill -9
npm run server
```

### iOS ë¹Œë“œ ì—ëŸ¬
```bash
cd ios && pod install --repo-update
```

### ëª¨ë“ˆ ëª» ì°¾ëŠ” ì—ëŸ¬
```bash
rm -rf node_modules && npm install
```
